{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapState, mapActions } from \"vuex\";\nexport default {\n  name: \"EditSurveyFirm\",\n\n  data() {\n    return {\n      show_image: \"\",\n      preview_logo: \"\",\n      preview_seal: \"\",\n      preview_header: \"\",\n      preview_footer: \"\",\n      // logo: \"\",\n      // seal: \"\",\n      errors: {}\n    };\n  },\n\n  computed: { ...mapState({\n      editSurveyFirmData: state => state.surveyfirm.firm,\n      message: state => state.surveyfirm.success_message\n    })\n  },\n\n  mounted() {\n    this.getEditSurveyFirm(this.$route.params.id); // this.imageShow();\n  },\n\n  methods: { ...mapActions({\n      getEditSurveyFirm: \"surveyfirm/edit_firm\"\n    }),\n    attach_Logo: function (event) {\n      let input = event.target;\n\n      if (input.files) {\n        let reader = new FileReader();\n\n        reader.onload = e => {\n          this.preview_logo = e.target.result;\n        };\n\n        this.logo = input.files[0];\n        reader.readAsDataURL(input.files[0]);\n      }\n    },\n    attach_Seal: function (event) {\n      let input = event.target;\n\n      if (input.files) {\n        let reader = new FileReader();\n\n        reader.onload = e => {\n          this.preview_seal = e.target.result;\n        };\n\n        this.seal = input.files[0];\n        reader.readAsDataURL(input.files[0]);\n      }\n    },\n    attach_Header: function (event) {\n      let input = event.target;\n\n      if (input.files) {\n        let reader = new FileReader();\n\n        reader.onload = e => {\n          this.preview_header = e.target.result;\n        };\n\n        this.header = input.files[0];\n        reader.readAsDataURL(input.files[0]);\n      }\n    },\n    attach_Footer: function (event) {\n      let input = event.target;\n\n      if (input.files) {\n        let reader = new FileReader();\n\n        reader.onload = e => {\n          this.preview_footer = e.target.result;\n        };\n\n        this.footer = input.files[0];\n        reader.readAsDataURL(input.files[0]);\n      }\n    },\n    editSurveyFirm: async function () {\n      try {\n        let id = this.$route.params.id;\n        let formData = new FormData();\n\n        if (this.editSurveyFirmData.name != null) {\n          formData.append(\"name\", this.editSurveyFirmData.name);\n        }\n\n        if (this.editSurveyFirmData.motto != null) {\n          formData.append(\"motto\", this.editSurveyFirmData.motto);\n        }\n\n        if (this.editSurveyFirmData.about != null) {\n          formData.append(\"about\", this.editSurveyFirmData.about);\n        }\n\n        if (this.preview_logo || this.preview_seal || this.preview_header || this.preview_footer) {\n          formData.append(\"logo\", this.logo);\n          formData.append(\"seal\", this.seal);\n          formData.append(\"header\", this.header);\n          formData.append(\"footer\", this.footer);\n        }\n\n        if (this.editSurveyFirmData.address != null) {\n          formData.append(\"address\", this.editSurveyFirmData.address);\n        }\n\n        if (this.editSurveyFirmData.telephone != null) {\n          formData.append(\"telephone\", this.editSurveyFirmData.telephone);\n        }\n\n        if (this.editSurveyFirmData.fax != null) {\n          formData.append(\"fax\", this.editSurveyFirmData.fax);\n        }\n\n        if (this.editSurveyFirmData.email != null) {\n          formData.append(\"email\", this.editSurveyFirmData.email);\n        }\n\n        if (this.editSurveyFirmData.website != null) {\n          formData.append(\"website\", this.editSurveyFirmData.website);\n        }\n\n        formData.append(\"_method\", \"PUT\");\n        await this.$store.dispatch(\"surveyfirm/update_firm\", {\n          id: id,\n          data: formData\n        }).then(() => {\n          this.$swal.fire({\n            toast: true,\n            position: \"top-end\",\n            icon: \"success\",\n            title: this.message,\n            showConfirmButton: false,\n            timer: 1500\n          });\n          this.getEditSurveyFirm();\n          this.$router.go(-1);\n        });\n      } catch (e) {\n        console.log(e);\n      }\n    } // imageShow() {\n    //   let base_url = this.editSurveyFirmData.image_base;\n    //   let image_name = this.editSurveyFirmData.logo;\n    //   let image = base_url + \"\" + image_name;\n    //   this.show_image = image;\n    // },\n\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsJA;AAEA;EACAA,sBADA;;EAGAC;IACA;MACAC,cADA;MAEAC,gBAFA;MAGAC,gBAHA;MAIAC,kBAJA;MAKAC,kBALA;MAMA;MACA;MACAC;IARA;EAUA,CAdA;;EAgBAC,YACA;MACAC,kDADA;MAEAC;IAFA;EADA,CAhBA;;EAuBAC;IACA,8CADA,CAEA;EACA,CA1BA;;EA4BAC,WACA;MACAC;IADA,EADA;IAKAC;MACA;;MACA;QACA;;QACAC;UACA;QACA,CAFA;;QAGA;QACAA;MACA;IACA,CAfA;IAiBAC;MACA;;MACA;QACA;;QACAD;UACA;QACA,CAFA;;QAGA;QACAA;MACA;IACA,CA3BA;IA6BAE;MACA;;MACA;QACA;;QACAF;UACA;QACA,CAFA;;QAGA;QACAA;MACA;IACA,CAvCA;IAyCAG;MACA;;MACA;QACA;;QACAH;UACA;QACA,CAFA;;QAGA;QACAA;MACA;IACA,CAnDA;IAqDAI;MACA;QACA;QACA;;QACA;UACAC;QACA;;QACA;UACAA;QACA;;QACA;UACAA;QACA;;QACA;UACAA;UACAA;UACAA;UACAA;QACA;;QACA;UACAA;QACA;;QACA;UACAA;QACA;;QACA;UACAA;QACA;;QACA;UACAA;QACA;;QACA;UACAA;QACA;;QACAA;QAEA;UAAAC;UAAApB;QAAA;UACA;YACAqB,WADA;YAEAC,mBAFA;YAGAC,eAHA;YAIAC,mBAJA;YAKAC,wBALA;YAMAC;UANA;UASA;UACA;QACA,CAZA;MAaA,CAhDA,CAgDA;QACAC;MACA;IACA,CAzGA,CA2GA;IACA;IACA;IAEA;IAEA;IACA;;EAlHA;AA5BA","names":["name","data","show_image","preview_logo","preview_seal","preview_header","preview_footer","errors","computed","editSurveyFirmData","message","mounted","methods","getEditSurveyFirm","attach_Logo","reader","attach_Seal","attach_Header","attach_Footer","editSurveyFirm","formData","id","toast","position","icon","title","showConfirmButton","timer","console"],"sourceRoot":"src/views/admin/survey_firm","sources":["EditSurveyFirm.vue"],"sourcesContent":["<template>\r\n  <div id=\"edit-survey-firm\">\r\n    <div class=\"card\">\r\n      <div class=\"container\">\r\n        <h2>Edit Survey firm</h2>\r\n        <form v-on:submit.prevent=\"editSurveyFirm\">\r\n          <div class=\"EditSurveyFirm\">\r\n            <div class=\"row\">\r\n              <div class=\"col-25\">\r\n                <label for=\"name\">Survey Firm Name</label>\r\n              </div>\r\n              <div class=\"col-75\">\r\n                <input type=\"text\" v-model=\"editSurveyFirmData.name\" id=\"name\" name=\"name\" placeholder=\"Enter Firm Name\" />\r\n                <span v-if=\"errors.name\" class=\"danger_text\">{{ errors.name[0] }}</span>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-25\">\r\n                <label for=\"motto\">Survey Firm Motto</label>\r\n              </div>\r\n              <div class=\"col-75\">\r\n                <input type=\"text\" v-model=\"editSurveyFirmData.motto\" id=\"motto\" name=\"motto\" placeholder=\"Enter Firm Motto\" />\r\n                <span v-if=\"errors.motto\" class=\"danger_text\">{{ errors.motto[0] }}</span>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-25\">\r\n                <label for=\"about\">About</label>\r\n              </div>\r\n              <div class=\"col-75\">\r\n                <input type=\"text\" v-model=\"editSurveyFirmData.about\" id=\"about\" name=\"about\" placeholder=\"About\" />\r\n                <span v-if=\"errors.about\" class=\"danger_text\">{{ errors.about[0] }}</span>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-25\">\r\n                <label for=\"address\">Survey Firm Address</label>\r\n              </div>\r\n              <div class=\"col-75\">\r\n                <input type=\"text\" v-model=\"editSurveyFirmData.address\" id=\"address\" name=\"address\" placeholder=\"Survey Firm Address\" />\r\n                <span v-if=\"errors.address\" class=\"danger_text\">{{ errors.address[0] }}</span>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-25\">\r\n                <label for=\"telephone\">Phone Number</label>\r\n              </div>\r\n              <div class=\"col-75\">\r\n                <input type=\"number\" v-model=\"editSurveyFirmData.telephone\" id=\"telephone\" name=\"telephone\" placeholder=\"Enter your Phone Number\" />\r\n                <span v-if=\"errors.telephone\" class=\"danger_text\">{{ errors.telephone[0] }}</span>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-25\">\r\n                <label for=\"fax\">FAX</label>\r\n              </div>\r\n              <div class=\"col-75\">\r\n                <input type=\"text\" v-model=\"editSurveyFirmData.fax\" id=\"fax\" name=\"fax\" placeholder=\"FAX\" />\r\n                <span v-if=\"errors.fax\" class=\"danger_text\">{{ errors.fax[0] }}</span>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-25\">\r\n                <label for=\"email\">Email</label>\r\n              </div>\r\n              <div class=\"col-75\">\r\n                <input type=\"email\" v-model=\"editSurveyFirmData.email\" id=\"email\" name=\"email\" placeholder=\"Enter Your Email\" />\r\n                <span v-if=\"errors.email\" class=\"danger_text\">{{ errors.email[0] }}</span>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-25\">\r\n                <label for=\"website\">Website</label>\r\n              </div>\r\n              <div class=\"col-75\">\r\n                <input type=\"text\" v-model=\"editSurveyFirmData.website\" id=\"website\" name=\"website\" placeholder=\"Enter Website Address\" />\r\n                <span v-if=\"errors.website\" class=\"danger_text\">{{ errors.website[0] }}</span>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-25\">\r\n                <label for=\"subject\">Survey Firm Seal</label>\r\n              </div>\r\n              <div class=\"col-75\">\r\n                <input type=\"file\" @change=\"attach_Seal\" name=\"seal\" ref=\"sfSeal\" />\r\n              </div>\r\n              <div class=\"survey_firm_seal\" v-if=\"preview_seal\">\r\n                <img :src=\"preview_seal\" alt=\"\" style=\"width: 40%; height: 150px; border-radius: 5%; margin-top: 5px\" />\r\n              </div>\r\n              <div class=\"survey_firm_seal\" v-else>\r\n                <img :src=\"editSurveyFirmData.files.seal\" style=\"width: 40%; height: 150px; border-radius: 5%; margin-top: 5px; margin-top: 2%\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-25\">\r\n                <label for=\"subject\">Survey Firm Logo</label>\r\n              </div>\r\n              <div class=\"col-75\">\r\n                <input type=\"file\" @change=\"attach_Logo\" name=\"logo\" ref=\"sfImage\" />\r\n              </div>\r\n              <div class=\"survey_firm_logo\" v-if=\"preview_logo\">\r\n                <img :src=\"preview_logo\" alt=\"\" style=\"width: 40%; height: 150px; border-radius: 5%; margin-top: 5px\" />\r\n              </div>\r\n              <div class=\"survey_firm_logo\" v-else>\r\n                <img :src=\"editSurveyFirmData.files.logo\" style=\"width: 40%; height: 150px; border-radius: 5%; margin-top: 5px\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-25\">\r\n                <label for=\"subject\">Header</label>\r\n              </div>\r\n              <div class=\"col-75\">\r\n                <input type=\"file\" @change=\"attach_Header\" name=\"header\" ref=\"sfHeader\" />\r\n              </div>\r\n              <div class=\"survey_firm_header\" v-if=\"preview_header\">\r\n                <img :src=\"preview_header\" alt=\"\" style=\"width: 40%; height: 150px; border-radius: 5%; margin-top: 5px\" />\r\n              </div>\r\n              <div class=\"survey_firm_header\" v-else>\r\n                <img :src=\"editSurveyFirmData.files.header\" style=\"width: 40%; height: 150px; border-radius: 5%; margin-top: 5px; margin-top: 2%\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-25\">\r\n                <label for=\"subject\">Footer</label>\r\n              </div>\r\n              <div class=\"col-75\">\r\n                <input type=\"file\" @change=\"attach_Footer\" name=\"footer\" ref=\"sfFooter\" />\r\n              </div>\r\n              <div class=\"survey_firm_footer\" v-if=\"preview_footer\">\r\n                <img :src=\"preview_footer\" alt=\"\" style=\"width: 40%; height: 150px; border-radius: 5%; margin-top: 5px\" />\r\n              </div>\r\n              <div class=\"survey_firm_footer\" v-else>\r\n                <img :src=\"editSurveyFirmData.files.footer\" style=\"width: 40%; height: 150px; border-radius: 5%; margin-top: 5px\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"row\">\r\n            <input type=\"submit\" value=\"Update\" />\r\n            <router-link to=\"/dashboard/surveyFirm\" style=\"float: right\">\r\n              <input type=\"button\" value=\"Back\" class=\"back-btn\" />\r\n            </router-link>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapActions } from \"vuex\";\r\n\r\nexport default {\r\n  name: \"EditSurveyFirm\",\r\n\r\n  data() {\r\n    return {\r\n      show_image: \"\",\r\n      preview_logo: \"\",\r\n      preview_seal: \"\",\r\n      preview_header: \"\",\r\n      preview_footer: \"\",\r\n      // logo: \"\",\r\n      // seal: \"\",\r\n      errors: {},\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    ...mapState({\r\n      editSurveyFirmData: (state) => state.surveyfirm.firm,\r\n      message: (state) => state.surveyfirm.success_message,\r\n    }),\r\n  },\r\n\r\n  mounted() {\r\n    this.getEditSurveyFirm(this.$route.params.id);\r\n    // this.imageShow();\r\n  },\r\n\r\n  methods: {\r\n    ...mapActions({\r\n      getEditSurveyFirm: \"surveyfirm/edit_firm\",\r\n    }),\r\n\r\n    attach_Logo: function (event) {\r\n      let input = event.target;\r\n      if (input.files) {\r\n        let reader = new FileReader();\r\n        reader.onload = (e) => {\r\n          this.preview_logo = e.target.result;\r\n        };\r\n        this.logo = input.files[0];\r\n        reader.readAsDataURL(input.files[0]);\r\n      }\r\n    },\r\n\r\n    attach_Seal: function (event) {\r\n      let input = event.target;\r\n      if (input.files) {\r\n        let reader = new FileReader();\r\n        reader.onload = (e) => {\r\n          this.preview_seal = e.target.result;\r\n        };\r\n        this.seal = input.files[0];\r\n        reader.readAsDataURL(input.files[0]);\r\n      }\r\n    },\r\n\r\n    attach_Header: function (event) {\r\n      let input = event.target;\r\n      if (input.files) {\r\n        let reader = new FileReader();\r\n        reader.onload = (e) => {\r\n          this.preview_header = e.target.result;\r\n        };\r\n        this.header = input.files[0];\r\n        reader.readAsDataURL(input.files[0]);\r\n      }\r\n    },\r\n\r\n    attach_Footer: function (event) {\r\n      let input = event.target;\r\n      if (input.files) {\r\n        let reader = new FileReader();\r\n        reader.onload = (e) => {\r\n          this.preview_footer = e.target.result;\r\n        };\r\n        this.footer = input.files[0];\r\n        reader.readAsDataURL(input.files[0]);\r\n      }\r\n    },\r\n\r\n    editSurveyFirm: async function () {\r\n      try {\r\n        let id = this.$route.params.id;\r\n        let formData = new FormData();\r\n        if (this.editSurveyFirmData.name != null) {\r\n          formData.append(\"name\", this.editSurveyFirmData.name);\r\n        }\r\n        if (this.editSurveyFirmData.motto != null) {\r\n          formData.append(\"motto\", this.editSurveyFirmData.motto);\r\n        }\r\n        if (this.editSurveyFirmData.about != null) {\r\n          formData.append(\"about\", this.editSurveyFirmData.about);\r\n        }\r\n        if (this.preview_logo || this.preview_seal || this.preview_header || this.preview_footer) {\r\n          formData.append(\"logo\", this.logo);\r\n          formData.append(\"seal\", this.seal);\r\n          formData.append(\"header\", this.header);\r\n          formData.append(\"footer\", this.footer);\r\n        }\r\n        if (this.editSurveyFirmData.address != null) {\r\n          formData.append(\"address\", this.editSurveyFirmData.address);\r\n        }\r\n        if (this.editSurveyFirmData.telephone != null) {\r\n          formData.append(\"telephone\", this.editSurveyFirmData.telephone);\r\n        }\r\n        if (this.editSurveyFirmData.fax != null) {\r\n          formData.append(\"fax\", this.editSurveyFirmData.fax);\r\n        }\r\n        if (this.editSurveyFirmData.email != null) {\r\n          formData.append(\"email\", this.editSurveyFirmData.email);\r\n        }\r\n        if (this.editSurveyFirmData.website != null) {\r\n          formData.append(\"website\", this.editSurveyFirmData.website);\r\n        }\r\n        formData.append(\"_method\", \"PUT\");\r\n\r\n        await this.$store.dispatch(\"surveyfirm/update_firm\", { id: id, data: formData }).then(() => {\r\n          this.$swal.fire({\r\n            toast: true,\r\n            position: \"top-end\",\r\n            icon: \"success\",\r\n            title: this.message,\r\n            showConfirmButton: false,\r\n            timer: 1500,\r\n          });\r\n\r\n          this.getEditSurveyFirm();\r\n          this.$router.go(-1);\r\n        });\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n    },\r\n\r\n    // imageShow() {\r\n    //   let base_url = this.editSurveyFirmData.image_base;\r\n    //   let image_name = this.editSurveyFirmData.logo;\r\n\r\n    //   let image = base_url + \"\" + image_name;\r\n\r\n    //   this.show_image = image;\r\n    // },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#edit-survey-firm {\r\n  padding: 0px 5px 0px 5px;\r\n  margin: 0px 15px 0px 15px;\r\n}\r\n.card {\r\n  background-color: #fff;\r\n  padding: 15px;\r\n  border-radius: 10px;\r\n  box-shadow: #f1f1f1;\r\n  margin-top: 25px;\r\n}\r\n.EditSurveyFirm {\r\n  display: grid;\r\n  grid-template-columns: repeat(2, 1fr);\r\n  gap: 1.5rem;\r\n  margin-top: 1%;\r\n  /* margin-left: ; */\r\n}\r\n\r\n* {\r\n  box-sizing: border-box;\r\n  appearance: auto;\r\n}\r\n\r\nselect {\r\n  width: 100%;\r\n  padding: 12px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n  resize: vertical;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}