{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapState } from 'vuex';\nexport default {\n  name: \"AddDepartment\",\n\n  data() {\n    return {\n      departmentData: {\n        name: ''\n      },\n      errors: {}\n    };\n  },\n\n  computed: { ...mapState({\n      message: state => state.department.success_message\n    })\n  },\n  methods: {\n    addDepartment: async function () {\n      try {\n        let formData = new FormData();\n        formData.append('name', this.departmentData.name);\n        await this.$store.dispatch('department/add_department', formData).then(() => {\n          this.$swal.fire({\n            toast: true,\n            position: 'top-end',\n            icon: 'success',\n            title: this.message,\n            showConfirmButton: false,\n            timer: 1500\n          });\n          this.departmentData = {};\n        });\n      } catch (e) {\n        switch (e.response.status) {\n          case 422:\n            this.errors = e.response.data.errors;\n            break;\n\n          default:\n            this.$swal.fire({\n              icon: 'error',\n              text: 'Oops',\n              title: e.response.data.error\n            });\n            break;\n        }\n      }\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;AAEA;EACAA,qBADA;;EAGAC;IACA;MACAC;QACAF;MADA,CADA;MAIAG;IAJA;EAMA,CAVA;;EAYAC,YACA;MACAC;IADA;EADA,CAZA;EAkBAC;IACAC;MACA;QACA;QAEAC;QAEA;UACA;YACAC,WADA;YAEAC,mBAFA;YAGAC,eAHA;YAIAC,mBAJA;YAKAC,wBALA;YAMAC;UANA;UASA;QAEA,CAZA;MAaA,CAlBA,CAkBA;QACA;UAEA;YACA;YACA;;UACA;YACA;cACAH,aADA;cAEAI,YAFA;cAGAH;YAHA;YAKA;QAXA;MAaA;IACA;EAnCA;AAlBA","names":["name","data","departmentData","errors","computed","message","methods","addDepartment","formData","toast","position","icon","title","showConfirmButton","timer","text"],"sourceRoot":"src/views/admin/Department","sources":["AddDepartment.vue"],"sourcesContent":["<template>\r\n <div>\r\n    <div class=\"card\">\r\n      <div class=\"container\">\r\n        <h2>Add Department</h2>\r\n        <form v-on:submit.prevent=\"addDepartment\">\r\n          <div class=\"row\">\r\n            <div class=\"col-25\">\r\n              <label for=\"dname\">Department Name</label>\r\n            </div>\r\n            <div class=\"col-75\">\r\n              <input\r\n                type=\"text\"\r\n                v-model=\"departmentData.name\"\r\n                id=\"dname\"\r\n                name=\"name\"\r\n                placeholder=\"Enter Department Name\"\r\n              />\r\n              <span v-if=\"errors.name\" class=\"danger_text\">{{errors.name[0]}}</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"row\">\r\n            <input type=\"submit\" value=\"Save\" />\r\n            <router-link to=\"/dashboard/department\" style=\"float: right\">\r\n              <input type=\"button\" value=\"Back\" class=\"back-btn\" />\r\n            </router-link>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n    import {mapState} from 'vuex';\r\n\r\n    export default {\r\n        name: \"AddDepartment\",\r\n\r\n        data(){\r\n            return{\r\n                departmentData: {\r\n                    name: '',\r\n                },\r\n                errors:{}\r\n            }\r\n        },\r\n\r\n        computed: {\r\n            ...mapState({\r\n                message: state => state.department.success_message\r\n            })\r\n        },\r\n\r\n        methods: {\r\n            addDepartment: async function(){\r\n                try {\r\n                    let formData = new FormData();\r\n\r\n                    formData.append('name', this.departmentData.name);\r\n\r\n                    await this.$store.dispatch('department/add_department', formData).then(() => {\r\n                        this.$swal.fire({\r\n                            toast: true,\r\n                            position: 'top-end',\r\n                            icon: 'success',\r\n                            title: this.message,\r\n                            showConfirmButton: false,\r\n                            timer: 1500\r\n                        });\r\n\r\n                        this.departmentData = {};\r\n                        \r\n                    })\r\n                }catch (e) {\r\n                    switch (e.response.status)\r\n               {\r\n                   case 422:\r\n                       this.errors = e.response.data.errors;\r\n                       break;\r\n                   default:\r\n                       this.$swal.fire({\r\n                           icon: 'error',\r\n                           text: 'Oops',\r\n                           title: e.response.data.error,\r\n                       });\r\n                       break;\r\n               }\r\n                }\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n.card {\r\n  background-color: #fff;\r\n  padding: 15px;\r\n  border-radius: 10px;\r\n  box-shadow: #f1f1f1;\r\n  margin-top: 25px;\r\n}\r\n* {\r\n  box-sizing: border-box;\r\n  appearance: auto;\r\n}\r\nselect\r\n {\r\n  width: 100%;\r\n  padding: 12px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n  resize: vertical;\r\n  \r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}