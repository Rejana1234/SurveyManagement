{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport DataTable from \"../../../components/datatable/Datatable\";\nimport Pagination from \"../../../components/datatable/Pagination.vue\";\nimport moment from \"moment\";\nimport { mapState } from \"vuex\";\nimport axios from \"axios\";\nimport { http } from \"../../../service/http_service\";\nexport default {\n  name: \"InterportSurveyor\",\n  title: \"Inter-Port - Surveyor\",\n  components: {\n    datatable: DataTable,\n    pagination: Pagination\n  },\n\n  data() {\n    let sortOrders = {};\n    let columns = [{\n      label: \"Name\",\n      name: \"department_name\"\n    }, {\n      label: \"Surveyor Type\",\n      name: \"type_name\"\n    }, {\n      label: \"Phone Number\",\n      name: \"phone\"\n    }, {\n      label: \"Email\",\n      name: \"email\"\n    }, {\n      label: \"Status\",\n      name: \"status\"\n    }, {\n      label: \"Created At\",\n      name: \"create_at\"\n    }, {\n      label: \"Action\",\n      name: \"action\"\n    }];\n    columns.forEach(column => {\n      sortOrders[column.name] = -1;\n    });\n    let apiUrl = this.$store.state.apiUrl;\n    return {\n      showModal: false,\n      surveyors: [],\n      columns: columns,\n      sortKey: \"id\",\n      sortOrders: sortOrders,\n      perPage: [\"10\", \"20\", \"30\", \"25\", \"50\", \"100\"],\n      tableData: {\n        draw: 0,\n        length: 10,\n        search: \"\",\n        column: 0,\n        dir: \"desc\"\n      },\n      pagination: {\n        last_page: \"\",\n        current_page: 1,\n        total: \"\",\n        last_page_url: \"\",\n        next_page_url: \"\",\n        prev_page_url: \"\",\n        from: \"\",\n        to: \"\"\n      },\n      filterSurveyorData: {\n        surveyor_id: \"\"\n      },\n      export_url: apiUrl + \"v1/surveyors/export\",\n      switch_status_url: apiUrl + \"v1/surveyors/switch_status/\",\n      import_file_url: apiUrl + \"v1/surveyors/import\",\n      user_role: JSON.parse(localStorage.getItem(\"user_role\")),\n      user_role_id: JSON.parse(localStorage.getItem(\"user_role_id\")),\n      moment: moment,\n      selected: '',\n      value: 2,\n      styling: {\n        objectcolor: '#ff9633',\n        animationcolor: '#ffffff',\n        animationcolor2: '#17fd3d',\n        objectbg: '#999793',\n        opacity: 80,\n        bgcolor: '#343a40',\n        size: 5,\n        speed: 2,\n        disableScrolling: true\n      },\n      code: ``,\n      flag: false\n    };\n  },\n\n  computed: { ...mapState({\n      message: state => state.surveyors.success_message\n    })\n  },\n\n  mounted() {\n    this.getAllSurveyor();\n    this.flag = true;\n  },\n\n  methods: {\n    loader(loader) {\n      this.selected = loader;\n      this.code = `<loader object=\"${this.styling.objectcolor}\" color1=\"${this.styling.animationcolor}\" color2=\"${this.styling.animationcolor2}\" size=\"${this.styling.size}\" speed=\"${this.styling.speed}\" bg=\"${this.styling.bgcolor}\" objectbg=\"${this.styling.objectbg}\" opacity=\"${this.styling.opacity}\" disableScrolling=\"${this.styling.disableScrolling}\" name=\"${this.selected}\"></loader>`;\n      const body = document.getElementsByTagName(\"html\")[0];\n      body.classList.add(\"overflow-hidden\");\n      setTimeout(() => {\n        this.selected = '';\n        const body = document.getElementsByTagName(\"html\")[0];\n        body.classList.remove(\"overflow-hidden\");\n      }, this.value * 1000);\n    },\n\n    switchStatus(surveyor) {\n      return http().get(this.switch_status_url + surveyor.user_id).then(response => {\n        this.$swal.fire({\n          toast: true,\n          position: \"top-end\",\n          icon: \"success\",\n          title: \"Status updated\",\n          showConfirmButton: false,\n          timer: 1500\n        });\n        this.getAllSurveyor();\n        console.log(response);\n      });\n    },\n\n    openModal() {\n      this.showModal = true;\n      const body = document.getElementsByTagName(\"html\")[0];\n      body.classList.add(\"overflow-hidden\");\n    },\n\n    closeModal() {\n      this.showModal = false;\n      const body = document.getElementsByTagName(\"html\")[0];\n      body.classList.remove(\"overflow-hidden\");\n    },\n\n    getAllSurveyor() {\n      this.tableData.draw++;\n      let params = new URLSearchParams();\n      params.append(\"page\", this.pagination.current_page);\n      params.append(\"draw\", this.tableData.draw);\n      params.append(\"length\", this.tableData.length);\n      params.append(\"search\", this.tableData.search);\n      params.append(\"column\", this.tableData.column);\n      params.append(\"dir\", this.tableData.dir);\n      return http().get(\"v1/surveyors/getData?\" + params).then(response => {\n        this.loader('circular');\n        this.surveyors = response.data.data.data;\n        this.pagination = response.data.data;\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n\n    showImage(img) {\n      let server_Path = this.$store.state.serverPath;\n      return server_Path + \"/storage/uploads/surveyors/image/\" + img;\n    },\n\n    showVCImage(img) {\n      let server_Path = this.$store.state.serverPath;\n      return server_Path + \"/storage/uploads/surveyors/vaccine/\" + img;\n    },\n\n    sortBy(key) {\n      this.sortKey = key;\n      this.sortOrders[key] = this.sortOrders[key] * -1;\n      this.tableData.column = this.getIndex(this.columns, \"name\", key);\n      this.tableData.dir = this.sortOrders[key] === 1 ? \"asc\" : \"desc\";\n      this.getAllSurveyor();\n    },\n\n    getIndex(array, key, value) {\n      return array.findIndex(i => i[key] == value);\n    },\n\n    selectFile() {\n      this.file = this.$refs.file.files[0];\n    },\n\n    async uploadFile() {\n      const formData = new FormData();\n      formData.append(\"file\", this.file);\n\n      try {\n        await axios.post(this.import_file_url, formData);\n        location.reload();\n        alert(\"File Uploaded Successfully\");\n      } catch (error) {\n        console.log(error);\n      }\n    },\n\n    confirmDelete(surveyor_details) {\n      let surveyor_id = surveyor_details.id;\n      this.$swal.fire({\n        title: \"Are you sure?\",\n        text: \"You won't be able to revert this!\",\n        icon: \"warning\",\n        showCancelButton: true,\n        confirmButtonColor: \"#3085d6\",\n        cancelButtonColor: \"#d33\",\n        confirmButtonText: \"Yes, delete it!\"\n      }).then(result => {\n        if (result.isConfirmed) {\n          console.log(surveyor_id);\n          this.deleteSurveyor(surveyor_id);\n        }\n      });\n    },\n\n    deleteSurveyor: async function (id) {\n      // let id = surveyor.id;\n      try {\n        await this.$store.dispatch(\"surveyors/delete_surveyor\", id).then(() => {\n          this.loader('circular');\n          this.$swal.fire({\n            toast: true,\n            position: \"top-end\",\n            icon: \"success\",\n            title: this.message,\n            showConfirmButton: false,\n            timer: 1500\n          });\n          this.getAllSurveyor();\n        });\n      } catch (e) {\n        console.log(e);\n\n        switch (e.response.status) {\n          case 422:\n            this.errors = e.response.data.errors;\n            break;\n\n          default:\n            this.$swal.fire({\n              icon: \"error\",\n              text: \"Oops\",\n              title: e.response.data.error\n            });\n            break;\n        }\n      }\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyOA;AACA;AACA;AAEA;AACA;AAEA;AAEA;EACAA,yBADA;EAEAC,8BAFA;EAIAC;IACAC,oBADA;IAEAC;EAFA,CAJA;;EASAC;IACA;IACA,eACA;MAAAC;MAAAN;IAAA,CADA,EAEA;MAAAM;MAAAN;IAAA,CAFA,EAGA;MAAAM;MAAAN;IAAA,CAHA,EAIA;MAAAM;MAAAN;IAAA,CAJA,EAKA;MAAAM;MAAAN;IAAA,CALA,EAMA;MAAAM;MAAAN;IAAA,CANA,EAOA;MAAAM;MAAAN;IAAA,CAPA;IASAO;MACAC;IACA,CAFA;IAIA;IAEA;MACAC,gBADA;MAEAC,aAFA;MAGAH,gBAHA;MAIAI,aAJA;MAKAH,sBALA;MAMAI,8CANA;MAOAC;QACAC,OADA;QAEAC,UAFA;QAGAC,UAHA;QAIAC,SAJA;QAKAC;MALA,CAPA;MAcAd;QACAe,aADA;QAEAC,eAFA;QAGAC,SAHA;QAIAC,iBAJA;QAKAC,iBALA;QAMAC,iBANA;QAOAC,QAPA;QAQAC;MARA,CAdA;MAwBAC;QACAC;MADA,CAxBA;MA2BAC,0CA3BA;MA4BAC,yDA5BA;MA6BAC,+CA7BA;MA8BAC,wDA9BA;MA+BAC,8DA/BA;MAgCAC,cAhCA;MAiCAC,YAjCA;MAkCAC,QAlCA;MAmCAC;QACAC,sBADA;QAEAC,yBAFA;QAGAC,0BAHA;QAIAC,mBAJA;QAKAC,WALA;QAMAC,kBANA;QAOAC,OAPA;QAQAC,QARA;QASAC;MATA,CAnCA;MA8CAC,QA9CA;MA+CAC;IA/CA;EAiDA,CA3EA;;EA6EAC,YACA;MACAC;IADA;EADA,CA7EA;;EAmFAC;IACA;IACA;EACA,CAtFA;;EAwFAC;IACAC;MACA;MACA;MACA;MACAC;MACAC;QACA;QACA;QACAD;MACA,CAJA,EAIA,iBAJA;IAKA,CAXA;;IAaAE;MACA,cACAC,GADA,CACA,yCADA,EAEAC,IAFA,CAEAC;QACA;UACAC,WADA;UAEAC,mBAFA;UAGAC,eAHA;UAIA7D,uBAJA;UAKA8D,wBALA;UAMAC;QANA;QAQA;QACAC;MACA,CAbA;IAcA,CA5BA;;IA8BAC;MACA;MACA;MAEAZ;IACA,CAnCA;;IAqCAa;MACA;MACA;MAEAb;IACA,CA1CA;;IA4CAc;MACA;MACA;MACAC;MACAA;MACAA;MACAA;MACAA;MACAA;MAEA,cACAZ,GADA,CACA,gCADA,EAEAC,IAFA,CAEAC;QACA;QACA;QACA;MACA,CANA,EAOAW,KAPA,CAOAC;QACAN;MACA,CATA;IAUA,CAhEA;;IAkEAO;MACA;MACA;IACA,CArEA;;IAsEAC;MACA;MACA;IACA,CAzEA;;IA2EAC;MACA;MACA;MACA;MACA;MACA;IACA,CAjFA;;IAmFAC;MACA;IACA,CArFA;;IAsFAC;MACA;IACA,CAxFA;;IAyFA;MACA;MACAC;;MAEA;QACA;QACAC;QACAC;MACA,CAJA,CAIA;QACAd;MACA;IACA,CApGA;;IAqGAe;MACA;MACA,WACAC,IADA,CACA;QACAhF,sBADA;QAEAiF,yCAFA;QAGApB,eAHA;QAIAqB,sBAJA;QAKAC,6BALA;QAMAC,yBANA;QAOAC;MAPA,CADA,EAUA5B,IAVA,CAUA6B;QACA;UACAtB;UACA;QACA;MACA,CAfA;IAgBA,CAvHA;;IAwHAuB;MACA;MAEA;QACA;UACA;UACA;YACA5B,WADA;YAEAC,mBAFA;YAGAC,eAHA;YAIA7D,mBAJA;YAKA8D,wBALA;YAMAC;UANA;UAQA;QACA,CAXA;MAYA,CAbA,CAaA;QACAC;;QACA;UACA;YACA;YACA;;UACA;YACA;cACAH,aADA;cAEAoB,YAFA;cAGAjF;YAHA;YAKA;QAVA;MAYA;IACA;EAvJA;AAxFA","names":["name","title","components","datatable","pagination","data","label","columns","sortOrders","showModal","surveyors","sortKey","perPage","tableData","draw","length","search","column","dir","last_page","current_page","total","last_page_url","next_page_url","prev_page_url","from","to","filterSurveyorData","surveyor_id","export_url","switch_status_url","import_file_url","user_role","user_role_id","moment","selected","value","styling","objectcolor","animationcolor","animationcolor2","objectbg","opacity","bgcolor","size","speed","disableScrolling","code","flag","computed","message","mounted","methods","loader","body","setTimeout","switchStatus","get","then","response","toast","position","icon","showConfirmButton","timer","console","openModal","closeModal","getAllSurveyor","params","catch","error","showImage","showVCImage","sortBy","getIndex","selectFile","formData","location","alert","confirmDelete","fire","text","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","result","deleteSurveyor"],"sourceRoot":"src/views/admin/surveyor","sources":["Surveyor.vue"],"sourcesContent":["<template>\r\n  <div id=\"surveyor\">\r\n    <loader :object=\"styling.objectcolor\"\r\n            :color1=\"styling.animationcolor\"\r\n            :color2=\"styling.animationcolor2\"\r\n            :size=\"styling.size\"\r\n            :speed=\"styling.speed\"\r\n            :bg=\"styling.bgcolor\"\r\n            :objectbg=\"styling.objectbg\"\r\n            :opacity=\"styling.opacity\"\r\n            :name=\"selected\"\r\n            :disableScrolling=\"styling.disableScrolling\"></loader>\r\n    <div class=\"card\">\r\n      <h2>Surveyor List</h2>\r\n      <div class=\"flex-container\" style=\"justify-content: flex-end\">\r\n        <div class=\"exportimport\">\r\n          <form @submit.prevent=\"uploadFile\" enctype=\"multipart/form-data\">\r\n            <div class=\"overlay\" v-if=\"showModal\" @click=\"closeModal()\"></div>\r\n\r\n            <div class=\"dropup\">\r\n              <button\r\n              v-if=\"user_role_id==1\"\r\n                class=\"dropbtn\"\r\n                @click=\"openModal()\"\r\n                style=\"font-weight: 900\"\r\n              >\r\n                <span class=\"material-icons-sharp add\" style=\"font-size: 11px\"\r\n                  >upload</span\r\n                >\r\n                Import\r\n              </button>\r\n            </div>\r\n            <div class=\"overlay\" v-if=\"showModal\" @click=\"closeModal()\"></div>\r\n            <div class=\"modal\" v-show=\"showModal\">\r\n              <div id=\"app\" class=\"modal-vue\">\r\n                <!-- button show -->\r\n                <!-- overlay -->\r\n                <div class=\"overlay\"></div>\r\n                <!-- modal -->\r\n                <div class=\"modal\">\r\n                  <button class=\"close\" @click=\"closeModal()\">x</button>\r\n                  <input type=\"file\" ref=\"file\" @change=\"selectFile()\" />\r\n                  <button\r\n                  v-if=\"user_role_id==1\"\r\n                    type=\"submit\"\r\n                    class=\"import\"\r\n                    v-on:click=\"uploadFile(file)\"\r\n                    style=\"font-weight: 900\"\r\n                  >\r\n                    <span\r\n                      class=\"material-icons-sharp add\"\r\n                      style=\"font-size: 11px\"\r\n                      >upload</span\r\n                    >\r\n                    Upload\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <a\r\n            v-if=\"user_role_id==1\"\r\n              :href=\"export_url\"\r\n              type=\"button\"\r\n              class=\"export\"\r\n              style=\"font-weight: 900\"\r\n            >\r\n              <span class=\"material-icons-sharp add\" style=\"font-size: 11px\"\r\n                >download</span\r\n              >\r\n              Export\r\n            </a>\r\n          </form>\r\n        </div>\r\n        <router-link to=\"add_surveyor\" v-if=\"user_role_id==1\">\r\n          <button type=\"button\" class=\"add_new\">\r\n            <span class=\"material-icons-sharp add\" style=\"font-size: 11px\"\r\n              >add</span\r\n            >Add New\r\n          </button>\r\n        </router-link>\r\n      </div>\r\n      <div class=\"flex-container\">\r\n        <div class=\"flex-item\">\r\n          Show:\r\n          <select\r\n            name=\"cars\"\r\n            class=\"entries_count\"\r\n            id=\"cars\"\r\n            style=\"appearance: auto\"\r\n            v-model=\"tableData.length\"\r\n            @change=\"getAllSurveyor()\"\r\n          >\r\n            <option\r\n              v-for=\"(records, index) in perPage\"\r\n              :key=\"index\"\r\n              :value=\"records\"\r\n            >\r\n              {{ records }}\r\n            </option>\r\n          </select>\r\n          records per page.\r\n        </div>\r\n\r\n        <div class=\"flex-item\">\r\n          <input\r\n            type=\"text\"\r\n            v-model=\"tableData.search\"\r\n            @input=\"getAllSurveyor()\"\r\n            placeholder=\"Search here\"\r\n            class=\"search\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div style=\"padding: 10px 10px; overflow-x: auto\">\r\n        <datatable\r\n          :columns=\"columns\"\r\n          :sortKey=\"sortKey\"\r\n          :sortOrders=\"sortOrders\"\r\n          @sort=\"sortBy\"\r\n        >\r\n          <tbody>\r\n            <tr\r\n              v-show=\"surveyors.length\"\r\n              v-for=\"(surveyor) in surveyors\"\r\n              :key=\"surveyor.id\"\r\n            >\r\n              <!-- <td data-label=\"#\" style=\"text-align: center\">\r\n                {{ index+1 }}\r\n              </td> -->\r\n              <td data-label=\"Name\" style=\"text-align: center\">\r\n                {{ surveyor.name }}\r\n              </td>\r\n              <td data-label=\"Surveyor Type\" style=\"text-align: center\">\r\n                {{ surveyor.type_name }}\r\n              </td>\r\n              <td data-label=\"Phone Number\" style=\"text-align: center\">\r\n                {{ surveyor.phone }}\r\n              </td>\r\n              <td data-label=\"Email\" style=\"text-align: center\">\r\n                {{ surveyor.email }}\r\n              </td> \r\n              <!-- <td data-label=\"Rating\" style=\"text-align: center\" v-if=\"surveyor.rating\">\r\n              {{ surveyor.rating }}\r\n            </td>\r\n            <td data-label=\"Rating\" style=\"text-align: center\" v-else>\r\n              --\r\n            </td> -->\r\n              <td data-label=\"Status\" style=\"text-align: center\" v-if=\"user_role_id==1\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  style=\"margin-top: 2%\"\r\n                  :id=\"surveyor.id\"\r\n                  :checked=\"surveyor.status === 1\"\r\n                  @click=\"switchStatus(surveyor)\"\r\n                /><label :for=\"surveyor.id\">Toggle</label>\r\n              </td>\r\n\r\n              <td data-label=\"Create\" style=\"text-align: center\">\r\n                {{ moment(surveyor.created_at).format(\"YYYY-DD-MM\") }}\r\n              </td> \r\n\r\n              <td data-label=\"Action\" style=\"text-align: center\" v-if=\"user_role_id==1\">\r\n                <router-link :to=\"`/dashboard/edit_surveyor/${surveyor.id}`\">\r\n                  <button\r\n                    type=\"button\"\r\n                    class=\"actio-button-margin edit\"\r\n                    title=\"Edit Surveyor\"\r\n                  >\r\n                    <span\r\n                      class=\"material-icons-sharp add\"\r\n                      style=\"font-size: 11px\"\r\n                      >edit</span\r\n                    >\r\n                  </button>\r\n                </router-link>\r\n                <button\r\n                  title=\"Delete Surveyor\"\r\n                  type=\"button\"\r\n                  class=\"actio-button-margin delete\"\r\n                  v-on:click=\"confirmDelete(surveyor)\"\r\n                >\r\n                  <span class=\"material-icons-sharp add\" style=\"font-size: 11px\"\r\n                    >delete</span\r\n                  >\r\n                </button>\r\n                <router-link\r\n                  :to=\"`/dashboard/surveyor/surveyor_details/${surveyor.user_id}`\"\r\n                >\r\n                  <button\r\n                    type=\"button\"\r\n                    class=\"actio-button-margin survey\"\r\n                    title=\"Surveyor Details\"\r\n                  >\r\n                    <span\r\n                      class=\"material-icons-sharp add\"\r\n                      style=\"font-size: 11px\"\r\n                      >details</span\r\n                    >\r\n                  </button>\r\n                </router-link>\r\n              </td>\r\n              <td data-label=\"Action\" style=\"text-align: center\" v-else>\r\n                --\r\n              </td>\r\n            </tr>\r\n            <tr v-show=\"!surveyors.length\">\r\n              <td colspan=\"7\">No Data Found</td>\r\n            </tr>\r\n          </tbody>\r\n        </datatable>\r\n      </div>\r\n\r\n      <div>\r\n        <div class=\"flex-container-pagination\" style=\"padding-right: 10px\">\r\n          <div class=\"flex-item\">\r\n            Showing {{ pagination.from }} to {{ pagination.to }} of\r\n            {{ pagination.total }} records\r\n          </div>\r\n          <div style=\"display: flex; justify-content: flex-end\">\r\n            <pagination\r\n              :pagination.sync=\"pagination\"\r\n              :offset=\"5\"\r\n              @paginate=\"getAllSurveyor()\"\r\n            ></pagination>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport DataTable from \"../../../components/datatable/Datatable\";\r\nimport Pagination from \"../../../components/datatable/Pagination.vue\";\r\nimport moment from \"moment\";\r\n\r\nimport { mapState } from \"vuex\";\r\nimport axios from \"axios\";\r\n\r\nimport { http } from \"../../../service/http_service\";\r\n\r\nexport default {\r\n  name: \"InterportSurveyor\",\r\n  title: \"Inter-Port - Surveyor\",\r\n\r\n  components: {\r\n    datatable: DataTable,\r\n    pagination: Pagination,\r\n  },\r\n\r\n  data() {\r\n    let sortOrders = {};\r\n    let columns = [\r\n      { label: \"Name\", name: \"department_name\" },\r\n      { label: \"Surveyor Type\", name: \"type_name\" },\r\n      { label: \"Phone Number\", name: \"phone\" },\r\n      { label: \"Email\", name: \"email\" },\r\n      { label: \"Status\", name: \"status\" },\r\n      { label: \"Created At\", name: \"create_at\" },\r\n      { label: \"Action\", name: \"action\" },\r\n    ];\r\n    columns.forEach((column) => {\r\n      sortOrders[column.name] = -1;\r\n    });\r\n\r\n    let apiUrl = this.$store.state.apiUrl;\r\n\r\n    return {\r\n      showModal: false,\r\n      surveyors: [],\r\n      columns: columns,\r\n      sortKey: \"id\",\r\n      sortOrders: sortOrders,\r\n      perPage: [\"10\", \"20\", \"30\", \"25\", \"50\", \"100\"],\r\n      tableData: {\r\n        draw: 0,\r\n        length: 10,\r\n        search: \"\",\r\n        column: 0,\r\n        dir: \"desc\",\r\n      },\r\n      pagination: {\r\n        last_page: \"\",\r\n        current_page: 1,\r\n        total: \"\",\r\n        last_page_url: \"\",\r\n        next_page_url: \"\",\r\n        prev_page_url: \"\",\r\n        from: \"\",\r\n        to: \"\",\r\n      },\r\n      filterSurveyorData: {\r\n        surveyor_id: \"\",\r\n      },\r\n      export_url: apiUrl + \"v1/surveyors/export\",\r\n      switch_status_url: apiUrl + \"v1/surveyors/switch_status/\",\r\n      import_file_url: apiUrl + \"v1/surveyors/import\",\r\n      user_role: JSON.parse(localStorage.getItem(\"user_role\")),\r\n      user_role_id: JSON.parse(localStorage.getItem(\"user_role_id\")),\r\n      moment: moment,\r\n      selected: '',\r\n      value: 2,\r\n      styling: {\r\n        objectcolor: '#ff9633',\r\n        animationcolor: '#ffffff',\r\n        animationcolor2: '#17fd3d',\r\n        objectbg: '#999793',\r\n        opacity: 80,\r\n        bgcolor: '#343a40',\r\n        size: 5,\r\n        speed: 2,\r\n        disableScrolling: true,\r\n      },\r\n      code: ``,\r\n      flag: false\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    ...mapState({\r\n      message: (state) => state.surveyors.success_message,\r\n    }),\r\n  },\r\n\r\n  mounted() {\r\n    this.getAllSurveyor();\r\n    this.flag=true;\r\n  },\r\n\r\n  methods: {\r\n    loader(loader) {\r\n      this.selected=loader;\r\n      this.code=`<loader object=\"${this.styling.objectcolor}\" color1=\"${this.styling.animationcolor}\" color2=\"${this.styling.animationcolor2}\" size=\"${this.styling.size}\" speed=\"${this.styling.speed}\" bg=\"${this.styling.bgcolor}\" objectbg=\"${this.styling.objectbg}\" opacity=\"${this.styling.opacity}\" disableScrolling=\"${this.styling.disableScrolling}\" name=\"${this.selected}\"></loader>`\r\n      const body = document.getElementsByTagName(\"html\")[0];\r\n      body.classList.add(\"overflow-hidden\");\r\n      setTimeout(() => {\r\n        this.selected='';\r\n        const body = document.getElementsByTagName(\"html\")[0];\r\n        body.classList.remove(\"overflow-hidden\");\r\n      }, this.value*1000);\r\n    },\r\n\r\n    switchStatus(surveyor) {\r\n      return http()\r\n        .get(this.switch_status_url + surveyor.user_id)\r\n        .then((response) => {\r\n          this.$swal.fire({\r\n            toast: true,\r\n            position: \"top-end\",\r\n            icon: \"success\",\r\n            title: \"Status updated\",\r\n            showConfirmButton: false,\r\n            timer: 1500,\r\n          });\r\n          this.getAllSurveyor();\r\n          console.log(response);\r\n        });\r\n    },\r\n\r\n    openModal() {\r\n      this.showModal = true;\r\n      const body = document.getElementsByTagName(\"html\")[0];\r\n\r\n      body.classList.add(\"overflow-hidden\");\r\n    },\r\n\r\n    closeModal() {\r\n      this.showModal = false;\r\n      const body = document.getElementsByTagName(\"html\")[0];\r\n\r\n      body.classList.remove(\"overflow-hidden\");\r\n    },\r\n\r\n    getAllSurveyor() {\r\n      this.tableData.draw++;\r\n      let params = new URLSearchParams();\r\n      params.append(\"page\", this.pagination.current_page);\r\n      params.append(\"draw\", this.tableData.draw);\r\n      params.append(\"length\", this.tableData.length);\r\n      params.append(\"search\", this.tableData.search);\r\n      params.append(\"column\", this.tableData.column);\r\n      params.append(\"dir\", this.tableData.dir);\r\n\r\n      return http()\r\n        .get(\"v1/surveyors/getData?\" + params)\r\n        .then((response) => {\r\n          this.loader('circular');\r\n          this.surveyors = response.data.data.data;\r\n          this.pagination = response.data.data;\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    },\r\n\r\n    showImage(img) {\r\n      let server_Path = this.$store.state.serverPath;\r\n      return server_Path + \"/storage/uploads/surveyors/image/\" + img;\r\n    },\r\n    showVCImage(img) {\r\n      let server_Path = this.$store.state.serverPath;\r\n      return server_Path + \"/storage/uploads/surveyors/vaccine/\" + img;\r\n    },\r\n\r\n    sortBy(key) {\r\n      this.sortKey = key;\r\n      this.sortOrders[key] = this.sortOrders[key] * -1;\r\n      this.tableData.column = this.getIndex(this.columns, \"name\", key);\r\n      this.tableData.dir = this.sortOrders[key] === 1 ? \"asc\" : \"desc\";\r\n      this.getAllSurveyor();\r\n    },\r\n\r\n    getIndex(array, key, value) {\r\n      return array.findIndex((i) => i[key] == value);\r\n    },\r\n    selectFile() {\r\n      this.file = this.$refs.file.files[0];\r\n    },\r\n    async uploadFile() {\r\n      const formData = new FormData();\r\n      formData.append(\"file\", this.file);\r\n\r\n      try {\r\n        await axios.post(this.import_file_url, formData);\r\n        location.reload();\r\n        alert(\"File Uploaded Successfully\");\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n    confirmDelete(surveyor_details) {\r\n      let surveyor_id = surveyor_details.id;\r\n      this.$swal\r\n        .fire({\r\n          title: \"Are you sure?\",\r\n          text: \"You won't be able to revert this!\",\r\n          icon: \"warning\",\r\n          showCancelButton: true,\r\n          confirmButtonColor: \"#3085d6\",\r\n          cancelButtonColor: \"#d33\",\r\n          confirmButtonText: \"Yes, delete it!\",\r\n        })\r\n        .then((result) => {\r\n          if (result.isConfirmed) {\r\n            console.log(surveyor_id);\r\n            this.deleteSurveyor(surveyor_id);\r\n          }\r\n        });\r\n    },\r\n    deleteSurveyor: async function (id) {\r\n      // let id = surveyor.id;\r\n\r\n      try {\r\n        await this.$store.dispatch(\"surveyors/delete_surveyor\", id).then(() => {\r\n          this.loader('circular');\r\n          this.$swal.fire({\r\n            toast: true,\r\n            position: \"top-end\",\r\n            icon: \"success\",\r\n            title: this.message,\r\n            showConfirmButton: false,\r\n            timer: 1500,\r\n          });\r\n          this.getAllSurveyor();\r\n        });\r\n      } catch (e) {\r\n        console.log(e);\r\n        switch (e.response.status) {\r\n          case 422:\r\n            this.errors = e.response.data.errors;\r\n            break;\r\n          default:\r\n            this.$swal.fire({\r\n              icon: \"error\",\r\n              text: \"Oops\",\r\n              title: e.response.data.error,\r\n            });\r\n            break;\r\n        }\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#surveyor {\r\n  padding: 0px 5px 0px 5px;\r\n  margin: 0px 15px 0px 15px;\r\n}\r\n.card {\r\n  background-color: #fff;\r\n  padding: 15px;\r\n  border-radius: 10px;\r\n  box-shadow: #f1f1f1;\r\n  margin-top: 25px;\r\n}\r\n\r\nbutton {\r\n  padding: 5px 5px;\r\n  border-radius: 5px;\r\n  color: #fff;\r\n  outline: none;\r\n  border: none;\r\n  cursor: pointer;\r\n}\r\n.search {\r\n  padding: 10px 20px;\r\n  outline: none;\r\n  border: 1px solid #ddd;\r\n  /* border-radius: 6px; */\r\n  margin-right: 0;\r\n}\r\n\r\nth,\r\ntd {\r\n  padding: 25px;\r\n}\r\n.dropbtn {\r\n  background-color: #3498db;\r\n  color: white;\r\n  padding: 7px;\r\n  font-size: 13px;\r\n  border: none;\r\n}\r\n\r\n.dropup {\r\n  position: relative;\r\n  display: inline-block;\r\n  padding: 5px 5px;\r\n  border-radius: 5px;\r\n  color: #fff;\r\n  outline: none;\r\n  border: none;\r\n  cursor: pointer;\r\n}\r\n\r\n.dropup-content {\r\n  display: none;\r\n  position: absolute;\r\n  background-color: #f1f1f1;\r\n  min-width: 70px;\r\n  top: 33px;\r\n  z-index: 1;\r\n}\r\n\r\n.dropup-content a {\r\n  color: black;\r\n  padding: 12px 16px;\r\n  text-decoration: none;\r\n  display: block;\r\n}\r\n\r\n.dropup-content a:hover {\r\n  background-color: #ccc;\r\n}\r\n\r\n.dropup:hover .dropup-content {\r\n  display: block;\r\n}\r\n\r\n.dropup:hover .dropbtn {\r\n  background-color: #2980b9;\r\n}\r\n\r\n.modal-vue .overlay {\r\n  position: fixed;\r\n  z-index: 9998;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n}\r\n\r\n.modal-vue .modal {\r\n  position: absolute;\r\n  width: 25%;\r\n  z-index: 9999;\r\n  margin: -100px auto;\r\n  padding: 20px 30px;\r\n  background-color: #fff;\r\n  left: 0;\r\n  right: 0;\r\n}\r\n\r\n.modal-vue .close {\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 10px;\r\n}\r\n\r\n.modal {\r\n  margin-right: 10%;\r\n}\r\n.card {\r\n  background-color: #fff;\r\n  padding: 15px;\r\n  border-radius: 10px;\r\n  box-shadow: #f1f1f1;\r\n  margin-top: 25px;\r\n}\r\n\r\nbutton {\r\n  padding: 5px 5px;\r\n  border-radius: 5px;\r\n  color: #fff;\r\n  outline: none;\r\n  border: none;\r\n  cursor: pointer;\r\n}\r\n/* .search {\r\n  padding: 10px 20px;\r\n  outline: none;\r\n  border: 1px solid #ddd;\r\n  margin-right: 0;\r\n} */\r\n.close {\r\n  background-color: rgb(183, 182, 180);\r\n}\r\n.exportimport {\r\n  margin-top: 0.25%;\r\n}\r\n.add_new:hover {\r\n  background-color:  #008CBA;\r\n}\r\n\r\n.add_new {\r\n  background-color: #1367A2;\r\n  padding: 7px 7px;\r\n}\r\n.survey {\r\n  background-color: rgb(60, 60, 247);\r\n}\r\n\r\nth,\r\ntd {\r\n  padding: 25px;\r\n}\r\n\r\ninput[type=\"checkbox\"] {\r\n  height: 0;\r\n  width: 0;\r\n  visibility: hidden;\r\n}\r\n\r\ninput[type=\"text\"] {\r\n  width: 97%;\r\n}\r\n\r\nlabel {\r\n  cursor: pointer;\r\n  text-indent: -9999px;\r\n  width: 70px;\r\n  height: 30px;\r\n  background: grey;\r\n  display: block;\r\n  border-radius: 100px;\r\n  position: relative;\r\n  margin-left: 25px;\r\n  margin-top: -22%;\r\n}\r\n\r\nlabel:after {\r\n  content: \"\";\r\n  position: absolute;\r\n  top: 5px;\r\n  left: 5px;\r\n  width: 30px;\r\n  height: 20px;\r\n  background: #fff;\r\n  border-radius: 90px;\r\n  transition: 0.3s;\r\n}\r\n\r\ninput:checked + label {\r\n  background: #bada55;\r\n}\r\n\r\ninput:checked + label:after {\r\n  left: calc(100% - 5px);\r\n  transform: translateX(-100%);\r\n}\r\n\r\nlabel:active:after {\r\n  width: 30px;\r\n  padding: 10px 20px;\r\n  outline: none;\r\n  border: 1px solid #ddd;\r\n  /* border-radius: 6px; */\r\n  margin-right: 0;\r\n}\r\n\r\nth,\r\ntd {\r\n  padding: 25px;\r\n}\r\n.dropbtn {\r\n  background-color: #3498db;\r\n  color: white;\r\n  padding: 7px;\r\n  font-size: 13px;\r\n  border: none;\r\n}\r\n\r\n.dropup {\r\n  position: relative;\r\n  display: inline-block;\r\n  padding: 5px 5px;\r\n  border-radius: 5px;\r\n  color: #fff;\r\n  outline: none;\r\n  border: none;\r\n  cursor: pointer;\r\n}\r\n\r\n.dropup-content {\r\n  display: none;\r\n  position: absolute;\r\n  background-color: #f1f1f1;\r\n  min-width: 70px;\r\n  top: 33px;\r\n  z-index: 1;\r\n}\r\n\r\n.dropup-content a {\r\n  color: black;\r\n  padding: 12px 16px;\r\n  text-decoration: none;\r\n  display: block;\r\n}\r\n\r\n.dropup-content a:hover {\r\n  background-color: #ccc;\r\n}\r\n\r\n.dropup:hover .dropup-content {\r\n  display: block;\r\n}\r\n\r\n.dropup:hover .dropbtn {\r\n  background-color: #2980b9;\r\n}\r\n\r\n.modal-vue .overlay {\r\n  position: fixed;\r\n  z-index: 9998;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n}\r\n\r\n.modal-vue .modal {\r\n  position: absolute;\r\n  width: 25%;\r\n  z-index: 9999;\r\n  margin: -100px auto;\r\n  padding: 20px 30px;\r\n  background-color: #fff;\r\n  left: 0;\r\n  right: 0;\r\n}\r\n\r\n.modal-vue .close {\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 10px;\r\n}\r\n\r\n.modal {\r\n  margin-right: 10%;\r\n}\r\n.card {\r\n  background-color: #fff;\r\n  padding: 15px;\r\n  border-radius: 10px;\r\n  box-shadow: #f1f1f1;\r\n  margin-top: 25px;\r\n}\r\nbutton:hover {\r\n  background-color: rgb(0, 0, 170);\r\n  opacity: 1;\r\n  transform: translateY(0);\r\n  transition-duration: 0.35s;\r\n}\r\n\r\nbutton {\r\n  padding: 5px 5px;\r\n  border-radius: 5px;\r\n  color: #fff;\r\n  outline: none;\r\n  border: none;\r\n  cursor: pointer;\r\n}\r\n.search {\r\n  padding: 10px 20px;\r\n  outline: none;\r\n  border: 1px solid #ddd;\r\n  /* border-radius: 6px; */\r\n  margin-right: 0;\r\n}\r\n.close {\r\n  background-color: rgb(183, 182, 180);\r\n}\r\n.exportimport {\r\n  margin-top: 0.25%;\r\n}\r\n.add_new {\r\n  padding: 6px 7px;\r\n}\r\n.survey {\r\n  background-color: rgb(60, 60, 247);\r\n}\r\nh1 {\r\n  font-size: 1.3rem;\r\n}\r\nselect {\r\n  height: 30px\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}