{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapState, mapActions } from \"vuex\";\nexport default {\n  name: \"InterPortProfile\",\n  title: \"InterPort - Profile\",\n\n  data() {\n    return {\n      preview: null,\n      preview_signature: null,\n      //   signature: \"\",\n      //   image: \"\",\n      user_Info: JSON.parse(localStorage.getItem(\"user\")),\n      token: localStorage.getItem(\"token\")\n    };\n  },\n\n  computed: { ...mapState({\n      user_info: state => state.edit_user_info,\n      message: state => state.success_message\n    })\n  },\n\n  mounted() {\n    this.user_edit(this.user_Info.id); // this.image = this.user_Info.image + '<?=base64_encode($Data)?>';\n    // this.signature = this.user_Info.signature;\n    // console.log(this.image);\n  },\n\n  methods: { ...mapActions({\n      user_edit: \"edit_user\"\n    }),\n    previewImage: function (event) {\n      let input = event.target;\n\n      if (input.files) {\n        let reader = new FileReader();\n\n        reader.onload = e => {\n          this.preview = e.target.result;\n        };\n\n        this.image = input.files[0];\n        reader.readAsDataURL(input.files[0]);\n      }\n    },\n    previewSignature: function (event) {\n      //   console.log(\"object\");\n      let input = event.target;\n\n      if (input.files) {\n        let reader = new FileReader();\n\n        reader.onload = e => {\n          this.preview_signature = e.target.result;\n        };\n\n        this.signature = input.files[0];\n        reader.readAsDataURL(input.files[0]);\n      }\n    },\n    profileUpdate: async function () {\n      try {\n        let formData = new FormData(); // this.image= this.user_Info.image;\n\n        formData.append(\"name\", this.user_info.name);\n        formData.append(\"email\", this.user_info.email);\n        formData.append(\"phone\", this.user_info.phone);\n\n        if (this.preview || this.preview_signature) {\n          formData.append(\"image\", this.image);\n          formData.append(\"signature\", this.signature);\n        } // formData.append('user_type', this.user_data.user_type);\n\n\n        formData.append(\"token\", this.token);\n        await this.$store.dispatch(\"profile_update\", formData).then(() => {\n          this.$swal.fire({\n            toast: true,\n            position: \"top-end\",\n            icon: \"success\",\n            title: this.message,\n            showConfirmButton: false,\n            timer: 1500\n          });\n        });\n      } catch (e) {\n        console.log(e);\n      }\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkHA;AAEA;EACAA,wBADA;EAEAC,4BAFA;;EAIAC;IACA;MACAC,aADA;MAEAC,uBAFA;MAGA;MACA;MACAC,mDALA;MAMAC;IANA;EAQA,CAbA;;EAeAC,YACA;MACAC,wCADA;MAEAC;IAFA;EADA,CAfA;;EAsBAC;IACA,kCADA,CAEA;IACA;IACA;EACA,CA3BA;;EA6BAC,WACA;MACAC;IADA,EADA;IAKAC;MACA;;MACA;QACA;;QACAC;UACA;QACA,CAFA;;QAGA;QACAA;MACA;IACA,CAfA;IAiBAC;MACA;MACA;;MACA;QACA;;QACAD;UACA;QACA,CAFA;;QAGA;QACAA;MACA;IACA,CA5BA;IA8BAE;MACA;QACA,8BADA,CAEA;;QAEAC;QACAA;QACAA;;QACA;UACAA;UACAA;QACA,CAVA,CAYA;;;QACAA;QAEA;UACA;YACAC,WADA;YAEAC,mBAFA;YAGAC,eAHA;YAIAnB,mBAJA;YAKAoB,wBALA;YAMAC;UANA;QAQA,CATA;MAUA,CAzBA,CAyBA;QACAC;MACA;IACA;EA3DA;AA7BA","names":["name","title","data","preview","preview_signature","user_Info","token","computed","user_info","message","mounted","methods","user_edit","previewImage","reader","previewSignature","profileUpdate","formData","toast","position","icon","showConfirmButton","timer","console"],"sourceRoot":"src/views/admin","sources":["Profile.vue"],"sourcesContent":["<template>\r\n  <div id=\"profile\">\r\n    <div class=\"card\">\r\n      <form action=\"\" v-on:submit.prevent=\"profileUpdate\">\r\n        <h2>Profile Update</h2>\r\n        <div class=\"profile_row\">\r\n          <div class=\"user_image\">\r\n            <div class=\"profile_image\" v-if=\"preview\">\r\n              <img\r\n                :src=\"preview\"\r\n                alt=\"\"\r\n                style=\"width: 100%; height: 250px; border-radius: 5%\"\r\n              />\r\n            </div>\r\n\r\n            <div class=\"profile_image\" v-else>\r\n              <img\r\n                :src=\"user_info.image\"\r\n                alt=\"\"\r\n                style=\"width: 100%; height: 250px; border-radius: 5%\"\r\n              />\r\n            </div>\r\n\r\n            <input\r\n              type=\"file\"\r\n              name=\"image\"\r\n              id=\"file\"\r\n              ref=\"userImage\"\r\n              @change=\"previewImage\"\r\n            />\r\n            <label for=\"file\">choose image file</label>\r\n          </div>\r\n          <div>\r\n            <div class=\"user_signature\">\r\n              <div class=\"profile_signature\" v-if=\"preview_signature\">\r\n                <img\r\n                  :src=\"preview_signature\"\r\n                  alt=\"\"\r\n                  style=\"width: 100%; height: 250px; border-radius: 5%\"\r\n                />\r\n              </div>\r\n\r\n              <div class=\"profile_signature\" v-else>\r\n                <img\r\n                  :src=\"user_info.signature\"\r\n                  alt=\"\"\r\n                  style=\"width: 100%; height: 250px; border-radius: 5%\"\r\n                />\r\n              </div>\r\n              <input\r\n                type=\"file\"\r\n                name=\"signature\"\r\n                id=\"file1\"\r\n                ref=\"userSignature\"\r\n                @change=\"previewSignature\"\r\n              />\r\n              <label for=\"file1\">choose signature file</label>\r\n            </div>\r\n          </div>\r\n          <div class=\"user_information\">\r\n            <div class=\"row\">\r\n              <div class=\"col-25\">\r\n                <label>Name</label>\r\n              </div>\r\n              <div class=\"col-75\">\r\n                <input\r\n                  type=\"text\"\r\n                  v-model=\"user_info.name\"\r\n                  id=\"name\"\r\n                  name=\"name\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n              <div class=\"col-25\">\r\n                <label>Email</label>\r\n              </div>\r\n              <div class=\"col-75\">\r\n                <input\r\n                  disabled\r\n                  type=\"email\"\r\n                  v-model=\"user_info.email\"\r\n                  id=\"email\"\r\n                  name=\"email\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n              <div class=\"col-25\">\r\n                <label>Phone</label>\r\n              </div>\r\n              <div class=\"col-75\">\r\n                <input\r\n                  type=\"text\"\r\n                  v-model=\"user_info.phone\"\r\n                  id=\"phone\"\r\n                  name=\"phone\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row\" style=\"margin-top: 20px\">\r\n              <input type=\"submit\" value=\"Save\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapActions } from \"vuex\";\r\n\r\nexport default {\r\n  name: \"InterPortProfile\",\r\n  title: \"InterPort - Profile\",\r\n\r\n  data() {\r\n    return {\r\n      preview: null,\r\n      preview_signature: null,\r\n      //   signature: \"\",\r\n      //   image: \"\",\r\n      user_Info: JSON.parse(localStorage.getItem(\"user\")),\r\n      token: localStorage.getItem(\"token\"),\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    ...mapState({\r\n      user_info: (state) => state.edit_user_info,\r\n      message: (state) => state.success_message,\r\n    }),\r\n  },\r\n\r\n  mounted() {\r\n    this.user_edit(this.user_Info.id);\r\n    // this.image = this.user_Info.image + '<?=base64_encode($Data)?>';\r\n    // this.signature = this.user_Info.signature;\r\n    // console.log(this.image);\r\n  },\r\n\r\n  methods: {\r\n    ...mapActions({\r\n      user_edit: \"edit_user\",\r\n    }),\r\n\r\n    previewImage: function (event) {\r\n      let input = event.target;\r\n      if (input.files) {\r\n        let reader = new FileReader();\r\n        reader.onload = (e) => {\r\n          this.preview = e.target.result;\r\n        };\r\n        this.image = input.files[0];\r\n        reader.readAsDataURL(input.files[0]);\r\n      }\r\n    },\r\n\r\n    previewSignature: function (event) {\r\n      //   console.log(\"object\");\r\n      let input = event.target;\r\n      if (input.files) {\r\n        let reader = new FileReader();\r\n        reader.onload = (e) => {\r\n          this.preview_signature = e.target.result;\r\n        };\r\n        this.signature = input.files[0];\r\n        reader.readAsDataURL(input.files[0]);\r\n      }\r\n    },\r\n\r\n    profileUpdate: async function () {\r\n      try {\r\n        let formData = new FormData();\r\n        // this.image= this.user_Info.image;\r\n\r\n        formData.append(\"name\", this.user_info.name);\r\n        formData.append(\"email\", this.user_info.email);\r\n        formData.append(\"phone\", this.user_info.phone);\r\n        if (this.preview || this.preview_signature) {\r\n          formData.append(\"image\", this.image);\r\n          formData.append(\"signature\", this.signature);\r\n        }\r\n\r\n        // formData.append('user_type', this.user_data.user_type);\r\n        formData.append(\"token\", this.token);\r\n\r\n        await this.$store.dispatch(\"profile_update\", formData).then(() => {\r\n          this.$swal.fire({\r\n            toast: true,\r\n            position: \"top-end\",\r\n            icon: \"success\",\r\n            title: this.message,\r\n            showConfirmButton: false,\r\n            timer: 1500,\r\n          });\r\n        });\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#profile {\r\n  padding: 0px 5px 0px 5px;\r\n  margin: 0px 15px 0px 15px;\r\n}\r\n\r\n.profile_row {\r\n  margin-top: 1rem;\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(30rem, 1fr));\r\n  gap: 1.5rem;\r\n}\r\n\r\n.user_image {\r\n  width: 100%;\r\n  text-align: center;\r\n  justify-content: center;\r\n  margin-top: 15px;\r\n}\r\n.user_signature {\r\n  width: 100%;\r\n  text-align: center;\r\n  justify-content: center;\r\n  margin-top: 15px;\r\n}\r\n\r\n.profile_image {\r\n  width: 50%;\r\n  height: 250px;\r\n  border: 1px solid var(--color-gray-light);\r\n  border-radius: 5%;\r\n  text-align: center;\r\n  justify-content: center;\r\n  margin: 0 auto;\r\n  margin-bottom: 10px;\r\n}\r\n.profile_signature {\r\n  width: 50%;\r\n  height: 250px;\r\n  border: 1px solid var(--color-gray-light);\r\n  border-radius: 5%;\r\n  text-align: center;\r\n  justify-content: center;\r\n  margin: 0 auto;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.user_image [type=\"file\"] {\r\n  height: 0;\r\n  overflow: hidden;\r\n  width: 0;\r\n}\r\n\r\n.user_image [type=\"file\"] + label {\r\n  background: #f15d22;\r\n  border: none;\r\n  border-radius: 5px;\r\n  color: #fff;\r\n  cursor: pointer;\r\n  display: inline-block;\r\n  font-family: \"Rubik\", sans-serif;\r\n  font-size: inherit;\r\n  font-weight: 500;\r\n  margin-bottom: 1rem;\r\n  outline: none;\r\n  padding: 1rem 50px;\r\n  position: relative;\r\n  transition: all 0.3s;\r\n  vertical-align: middle;\r\n}\r\n\r\n.user_signature [type=\"file\"] {\r\n  height: 0;\r\n  overflow: hidden;\r\n  width: 0;\r\n}\r\n\r\n.user_signature [type=\"file\"] + label {\r\n  background: #f15d22;\r\n  border: none;\r\n  border-radius: 5px;\r\n  color: #fff;\r\n  cursor: pointer;\r\n  display: inline-block;\r\n  font-family: \"Rubik\", sans-serif;\r\n  font-size: inherit;\r\n  font-weight: 500;\r\n  margin-bottom: 1rem;\r\n  outline: none;\r\n  padding: 1rem 50px;\r\n  position: relative;\r\n  transition: all 0.3s;\r\n  vertical-align: middle;\r\n}\r\n\r\n.user_information {\r\n  width: 100%;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}