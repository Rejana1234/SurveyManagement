{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport DataTable from \"../../../components/datatable/Datatable\";\nimport Pagination from \"../../../components/datatable/Pagination.vue\";\nimport { mapState } from \"vuex\";\nimport { http } from \"../../../service/http_service\";\nexport default {\n  name: \"InterportFinalPackingLists\",\n  title: \"Inter-Port - Final_Packaging\",\n  components: {\n    datatable: DataTable,\n    pagination: Pagination\n  },\n\n  data() {\n    let sortOrders = {};\n    let columns = [{\n      label: \"#Sl\",\n      name: \"id\"\n    }, {\n      label: \"picture\",\n      name: \"picture\"\n    }, {\n      label: \"Work Order\",\n      name: \"work_order_id\"\n    }, {\n      label: \"Purchase\",\n      name: \"purchase\"\n    }, {\n      label: \"Item_no\",\n      name: \"item_no\"\n    }, {\n      label: \"Supply_no\",\n      name: \"supply_no\"\n    }, {\n      label: \"quantity\",\n      name: \"quantity_id\"\n    }, {\n      label: \"origin\",\n      name: \"origin\"\n    }, {\n      label: \"package_no\",\n      name: \"package_no\"\n    }, {\n      label: \"style\",\n      name: \"style_id\"\n    }, {\n      label: \"net_weight\",\n      name: \"net_weight\"\n    }, {\n      label: \"kg\",\n      name: \"kg\"\n    }, {\n      label: \"Action\",\n      name: \"action\"\n    }];\n    columns.forEach(column => {\n      sortOrders[column.name] = -1;\n    });\n    return {\n      final_packing_lists: [],\n      columns: columns,\n      sortKey: \"id\",\n      sortOrders: sortOrders,\n      perPage: [\"10\", \"20\", \"30\", \"25\", \"50\", \"100\"],\n      tableData: {\n        draw: 0,\n        length: 10,\n        search: \"\",\n        column: 0,\n        dir: \"desc\"\n      },\n      pagination: {\n        last_page: \"\",\n        current_page: 1,\n        total: \"\",\n        last_page_url: \"\",\n        next_page_url: \"\",\n        prev_page_url: \"\",\n        from: \"\",\n        to: \"\"\n      }\n    };\n  },\n\n  computed: { ...mapState({\n      message: state => state.final_packing_list.success_message\n    })\n  },\n\n  mounted() {\n    this.getAllFinalPackingList();\n  },\n\n  methods: {\n    getAllFinalPackingList() {\n      this.tableData.draw++;\n      let params = new URLSearchParams();\n      params.append(\"page\", this.pagination.current_page);\n      params.append(\"draw\", this.tableData.draw);\n      params.append(\"length\", this.tableData.length);\n      params.append(\"search\", this.tableData.search);\n      params.append(\"column\", this.tableData.column);\n      params.append(\"dir\", this.tableData.dir);\n      return http().get(\"v1/final_packing_lists/getData?\" + params).then(response => {\n        this.final_packing_lists = response.data.data.data;\n        this.pagination = response.data.data;\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n\n    sortBy(key) {\n      this.sortKey = key;\n      this.sortOrders[key] = this.sortOrders[key] * -1;\n      this.tableData.column = this.getIndex(this.columns, \"c_f_name\", key);\n      this.tableData.dir = this.sortOrders[key] === 1 ? \"asc\" : \"desc\";\n      this.getAllFinalPackingList();\n    },\n\n    getIndex(array, key, value) {\n      return array.findIndex(i => i[key] == value);\n    },\n\n    deleteFinalPackingList: async function (final_packing_list) {\n      let id = final_packing_list.id;\n\n      try {\n        await this.$store.dispatch(\"final_packing_list/delete_final_packing_list\", id).then(() => {\n          this.$swal.fire({\n            toast: true,\n            position: \"top-end\",\n            icon: \"success\",\n            title: this.message,\n            showConfirmButton: false,\n            timer: 1500\n          });\n          this.getAllFinalPackingList();\n        });\n      } catch (e) {\n        console.log(e);\n      }\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0HA;AACA;AAEA;AAEA;AAEA;EACAA,kCADA;EAEAC,qCAFA;EAKAC;IACAC,oBADA;IAEAC;EAFA,CALA;;EAUAC;IACA;IACA,eACA;MAAAC;MAAAN;IAAA,CADA,EAEA;MAAAM;MAAAN;IAAA,CAFA,EAGA;MAAAM;MAAAN;IAAA,CAHA,EAIA;MAAAM;MAAAN;IAAA,CAJA,EAKA;MAAAM;MAAAN;IAAA,CALA,EAMA;MAAAM;MAAAN;IAAA,CANA,EAOA;MAAAM;MAAAN;IAAA,CAPA,EAQA;MAAAM;MAAAN;IAAA,CARA,EASA;MAAAM;MAAAN;IAAA,CATA,EAUA;MAAAM;MAAAN;IAAA,CAVA,EAWA;MAAAM;MAAAN;IAAA,CAXA,EAYA;MAAAM;MAAAN;IAAA,CAZA,EAaA;MAAAM;MAAAN;IAAA,CAbA;IAeAO;MACAC;IACA,CAFA;IAIA;MACAC,uBADA;MAEAF,gBAFA;MAGAG,aAHA;MAIAF,sBAJA;MAKAG,8CALA;MAMAC;QACAC,OADA;QAEAC,UAFA;QAGAC,UAHA;QAIAC,SAJA;QAKAC;MALA,CANA;MAaAb;QACAc,aADA;QAEAC,eAFA;QAGAC,SAHA;QAIAC,iBAJA;QAKAC,iBALA;QAMAC,iBANA;QAOAC,QAPA;QAQAC;MARA;IAbA;EAwBA,CAvDA;;EAyDAC,YACA;MACAC;IADA;EADA,CAzDA;;EA+DAC;IACA;EACA,CAjEA;;EAmEAC;IACAC;MACA;MACA;MACAC;MACAA;MACAA;MACAA;MACAA;MACAA;MAEA,cACAC,GADA,CACA,0CADA,EAEAC,IAFA,CAEAC;QACA;QACA;MACA,CALA,EAMAC,KANA,CAMAC;QACAC;MACA,CARA;IASA,CApBA;;IAsBAC;MACA;MACA;MACA;MACA;MACA;IACA,CA5BA;;IA8BAC;MACA;IACA,CAhCA;;IAkCAC;MACA;;MAEA;QACA,kBACAC,QADA,CACA,8CADA,EACAC,EADA,EAEAT,IAFA,CAEA;UACA;YACAU,WADA;YAEAC,mBAFA;YAGAC,eAHA;YAIA5C,mBAJA;YAKA6C,wBALA;YAMAC;UANA;UAQA;QACA,CAZA;MAaA,CAdA,CAcA;QACAV;MACA;IACA;EAtDA;AAnEA","names":["name","title","components","datatable","pagination","data","label","columns","sortOrders","final_packing_lists","sortKey","perPage","tableData","draw","length","search","column","dir","last_page","current_page","total","last_page_url","next_page_url","prev_page_url","from","to","computed","message","mounted","methods","getAllFinalPackingList","params","get","then","response","catch","error","console","sortBy","getIndex","deleteFinalPackingList","dispatch","id","toast","position","icon","showConfirmButton","timer"],"sourceRoot":"src/views/admin/final_packing_list","sources":["FinalPackingList.vue"],"sourcesContent":["<template>\r\n  <div id=\"final_packing_id\">\r\n    <div class=\"card\">\r\n    <h2>Final Packing List</h2>\r\n    <div class=\"flex-container\" style=\"justify-content: flex-end\">\r\n      <router-link to=\"add_final_packing_list\">\r\n        <button type=\"button\" class=\"add_new\">\r\n          <span class=\"material-icons-sharp add\" style=\"font-size: 11px\"\r\n            >add</span\r\n          >Add New\r\n        </button>\r\n      </router-link>\r\n    </div>\r\n\r\n    <div class=\"flex-container mobile-flex-container\">\r\n      <div class=\"flex-item\">\r\n        Show:\r\n        <select\r\n          name=\"cars\"\r\n          class=\"entries_count\"\r\n          id=\"cars\"\r\n          style=\"appearance: auto\"\r\n          v-model=\"tableData.length\"\r\n          @change=\"getAllFinalPackingList()\"\r\n        >\r\n          <option\r\n            v-for=\"(records, index) in perPage\"\r\n            :key=\"index\"\r\n            :value=\"records\"\r\n          >\r\n            {{ records }}\r\n          </option>\r\n        </select>\r\n        record per page.\r\n      </div>\r\n\r\n      <div class=\"flex-item\">\r\n        <input\r\n          type=\"text\"\r\n          v-model=\"tableData.search\"\r\n          @input=\"getAllFinalPackingList()\"\r\n          placeholder=\"Search here\"\r\n          class=\"search\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div>\r\n      <datatable\r\n        :columns=\"columns\"\r\n        :sortKey=\"sortKey\"\r\n        :sortOrders=\"sortOrders\"\r\n        @sort=\"sortBy\"\r\n      >\r\n        <tbody>\r\n        <tr\r\n          v-show=\"final_packing_lists.length\"\r\n          v-for=\"final_packing_list in final_packing_lists\"\r\n          :key=\"final_packing_list.id\"\r\n        >\r\n          <td data-label=\"#Sl\" style=\"text-align: center\">{{ final_packing_list.id }}</td>\r\n            <td data-label=\"picture\" style=\"text-align: center\"><img :src=\"final_packing_list.picture\"  ></td>\r\n          <td data-label=\"Work Order\" style=\"text-align: center\">{{ final_packing_list.work_order_id }}</td>\r\n          <td data-label=\"Purchase\" style=\"text-align: center\">{{ final_packing_list.purchase }}</td>\r\n          <td data-label=\"Item_no\" style=\"text-align: center\">{{ final_packing_list.item_no }}</td>\r\n          <td data-label=\"Supply_no\" style=\"text-align: center\">{{ final_packing_list.supply_no }}</td>\r\n            <td data-label=\"Quantity\" style=\"text-align: center\">{{ final_packing_list.quantity_id }}</td>\r\n          <td data-label=\"origin\" style=\"text-align: center\">{{ final_packing_list.origin }}</td>\r\n          <td data-label=\"package_no\" style=\"text-align: center\">{{ final_packing_list.package_no }}</td>\r\n          <td data-label=\"Style\" style=\"text-align: center\">{{ final_packing_list.style_id }}</td>\r\n          <td data-label=\"Net Weight\" style=\"text-align: center\">{{ final_packing_list.net_weight }}</td>\r\n          <td data-label=\"Kg\" style=\"text-align: center\">{{ final_packing_list.kg }}</td>\r\n\r\n          <td data-label=\"Actions\" style=\"text-align: center\">\r\n            <router-link\r\n              :to=\"`/dashboard/edit_final_packing_list/${final_packing_list.id}`\"\r\n            >\r\n              <button type=\"button\" class=\"actio-button-margin edit\">\r\n                <span class=\"material-icons-sharp add\" style=\"font-size: 11px\"\r\n                  >edit</span\r\n                >\r\n              </button>\r\n            </router-link>\r\n            <button\r\n              type=\"button\"\r\n              class=\"actio-button-margin delete\"\r\n              v-on:click=\"deleteFinalPackingList(final_packing_list)\"\r\n            >\r\n              <span class=\"material-icons-sharp add\" style=\"font-size: 11px\"\r\n                >delete</span\r\n              >\r\n            </button>\r\n          </td>\r\n        </tr>\r\n\r\n        <tr v-show=\"!final_packing_lists.length\">\r\n          <td>No Data Found</td>\r\n        </tr>\r\n        </tbody>\r\n      </datatable>\r\n    </div>\r\n\r\n    <div class=\"mobile-pagination\">\r\n      <div class=\"flex-container-pagination\" style=\"padding-right: 10px\">\r\n        <div class=\"flex-item\">\r\n          Showing {{ pagination.from }} to {{ pagination.to }} of\r\n          {{ pagination.total }} records\r\n        </div>\r\n        <div style=\"display: flex; justify-content: flex-end\">\r\n          <pagination\r\n            :pagination.sync=\"pagination\"\r\n            :offset=\"5\"\r\n            @paginate=\"getAllFinalPackingList()\"\r\n          ></pagination>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport DataTable from \"../../../components/datatable/Datatable\";\r\nimport Pagination from \"../../../components/datatable/Pagination.vue\";\r\n\r\nimport { mapState } from \"vuex\";\r\n\r\nimport { http } from \"../../../service/http_service\";\r\n\r\nexport default {\r\n  name: \"InterportFinalPackingLists\",\r\n  title: \"Inter-Port - Final_Packaging\",\r\n\r\n\r\n  components: {\r\n    datatable: DataTable,\r\n    pagination: Pagination,\r\n  },\r\n\r\n  data() {\r\n    let sortOrders = {};\r\n    let columns = [\r\n      { label: \"#Sl\", name: \"id\" },\r\n      { label: \"picture\", name: \"picture\" },\r\n      { label: \"Work Order\", name: \"work_order_id\" },\r\n      { label: \"Purchase\", name: \"purchase\" },\r\n      { label: \"Item_no\", name: \"item_no\" },\r\n      { label: \"Supply_no\", name: \"supply_no\" },\r\n      { label: \"quantity\", name: \"quantity_id\" },\r\n      { label: \"origin\", name: \"origin\" },\r\n      { label: \"package_no\", name: \"package_no\" },\r\n      { label: \"style\", name: \"style_id\" },\r\n      { label: \"net_weight\", name: \"net_weight\" },\r\n      { label: \"kg\", name: \"kg\" },\r\n      { label: \"Action\", name: \"action\" },\r\n    ];\r\n    columns.forEach((column) => {\r\n      sortOrders[column.name] = -1;\r\n    });\r\n\r\n    return {\r\n      final_packing_lists: [],\r\n      columns: columns,\r\n      sortKey: \"id\",\r\n      sortOrders: sortOrders,\r\n      perPage: [\"10\", \"20\", \"30\", \"25\", \"50\", \"100\"],\r\n      tableData: {\r\n        draw: 0,\r\n        length: 10,\r\n        search: \"\",\r\n        column: 0,\r\n        dir: \"desc\",\r\n      },\r\n      pagination: {\r\n        last_page: \"\",\r\n        current_page: 1,\r\n        total: \"\",\r\n        last_page_url: \"\",\r\n        next_page_url: \"\",\r\n        prev_page_url: \"\",\r\n        from: \"\",\r\n        to: \"\",\r\n      },\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    ...mapState({\r\n      message: (state) => state.final_packing_list.success_message,\r\n    }),\r\n  },\r\n\r\n  mounted() {\r\n    this.getAllFinalPackingList();\r\n  },\r\n\r\n  methods: {\r\n    getAllFinalPackingList() {\r\n      this.tableData.draw++;\r\n      let params = new URLSearchParams();\r\n      params.append(\"page\", this.pagination.current_page);\r\n      params.append(\"draw\", this.tableData.draw);\r\n      params.append(\"length\", this.tableData.length);\r\n      params.append(\"search\", this.tableData.search);\r\n      params.append(\"column\", this.tableData.column);\r\n      params.append(\"dir\", this.tableData.dir);\r\n\r\n      return http()\r\n        .get(\"v1/final_packing_lists/getData?\" + params)\r\n        .then((response) => {\r\n          this.final_packing_lists = response.data.data.data;\r\n          this.pagination = response.data.data;\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    },\r\n\r\n    sortBy(key) {\r\n      this.sortKey = key;\r\n      this.sortOrders[key] = this.sortOrders[key] * -1;\r\n      this.tableData.column = this.getIndex(this.columns, \"c_f_name\", key);\r\n      this.tableData.dir = this.sortOrders[key] === 1 ? \"asc\" : \"desc\";\r\n      this.getAllFinalPackingList();\r\n    },\r\n\r\n    getIndex(array, key, value) {\r\n      return array.findIndex((i) => i[key] == value);\r\n    },\r\n\r\n    deleteFinalPackingList: async function (final_packing_list) {\r\n      let id = final_packing_list.id;\r\n\r\n      try {\r\n        await this.$store\r\n          .dispatch(\"final_packing_list/delete_final_packing_list\", id)\r\n          .then(() => {\r\n            this.$swal.fire({\r\n              toast: true,\r\n              position: \"top-end\",\r\n              icon: \"success\",\r\n              title: this.message,\r\n              showConfirmButton: false,\r\n              timer: 1500,\r\n            });\r\n            this.getAllFinalPackingList();\r\n          });\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.card {\r\n  background-color: #fff;\r\n  padding: 15px;\r\n  border-radius: 10px;\r\n  box-shadow: #f1f1f1;\r\n  margin-top: 25px;\r\n}\r\nh1 {\r\n  font-size: 1.3rem;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}